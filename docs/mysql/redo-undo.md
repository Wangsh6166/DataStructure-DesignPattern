### redo 日志

我们所有的操作都是在内存中操作的，最终数据是要持久化到磁盘中去。比如一个事务提交后突然发生了故障，导致这个已提交的事务对数据库的更改也丢失了，这就违反了事务的持久性。要保证持久性，一个比较简单的做法是：在事务提交前就把该事务的修改都刷新到磁盘中，但是这个做法会导致一些问题：
- mysql存储是以页为单位，如果我们仅仅只改了一行数据就刷新整个数据页，这样太浪费了
- 随机io刷新起来很慢。一个事务可能涉及到多个数据页，而这些数据页又不是相邻的，随机IO比顺序IO要慢很多

后来对这个方案加以改进，我们只需让已提交的事务的更改永久生效，即使系统崩溃重启后也能把这种修改恢复出来。所以没必要每次都把内存的修改刷新到磁盘，只需要记录一下修改了哪些记录即可。这样系统崩溃恢复后，只需要按照这个 修改记录操作就可以更新数据页。这个修改记录就是redo日志


### redo log的写入过程

